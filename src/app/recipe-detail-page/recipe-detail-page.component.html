<header>
  <app-navbar></app-navbar>
</header>
<body>

  <!--Category-->
  <div [hidden]="edit">
    <br> &nbsp;&nbsp;
    <button mat-raised-button color="basic">
      {{recipe_category}}
    </button>
  </div>
  <div [hidden]="!edit">
    <br> &nbsp;&nbsp;
    <button mat-raised-button [matMenuTriggerFor]="category">Bug: {{recipe_category_new}}</button>
    <mat-menu #category="matMenu">
      <button mat-menu-item [matMenuTriggerFor]="appetizer" (click)="setCategory('Appetizer')">Appetizer</button>
      <button mat-menu-item [matMenuTriggerFor]="mainDish" (click)="setCategory('MainDish')">Main Dish</button>
      <button mat-menu-item [matMenuTriggerFor]="dessert" (click)="setCategory('Dessert')">Dessert</button>
      <button mat-menu-item (click)="setCategory('Drinks')">Drinks</button>
      <button mat-menu-item (click)="setCategory('Basic Recipes')">Basic Recipes</button>
      <button mat-menu-item (click)="setCategory('Other')">Other</button>
    </mat-menu>
    <mat-menu #appetizer="matMenu">
      <button mat-menu-item (click)="setCategory('Appetizer/Salad')">Salad</button>
      <button mat-menu-item (click)="setCategory('Appetizer/Soup')">Soup</button>
      <button mat-menu-item (click)="setCategory('Appetizer/Morsel')">Morsel</button>
    </mat-menu>
    <mat-menu #mainDish="matMenu">
      <button mat-menu-item (click)="setCategory('MainDish/Salad')">Salad</button>
      <button mat-menu-item (click)="setCategory('MainDish/Soup')">Soup</button>
      <button mat-menu-item (click)="setCategory('MainDish/Meat')">Meat</button>
      <button mat-menu-item (click)="setCategory('MainDish/Fish')">Fish</button>
      <button mat-menu-item (click)="setCategory('MainDish/Vegan')">Vegan</button>
      <button mat-menu-item (click)="setCategory('MainDish/Vegetarian')">Vegetarian</button>
      <button mat-menu-item (click)="setCategory('MainDish/Casserole')">Casserole</button>
      <button mat-menu-item (click)="setCategory('MainDish/SideDishes')">Side Dishes</button>
    </mat-menu>
    <mat-menu #dessert="matMenu">
      <button mat-menu-item (click)="setCategory('Dessert/Dough')">Dough</button>
      <button mat-menu-item (click)="setCategory('Dessert/Pasteries')">Pastries</button>
      <button mat-menu-item (click)="setCategory('Dessert/ColdDishes')">Cold Dishes</button>
      <button mat-menu-item (click)="setCategory('Dessert/FruitSalad')">Fruit Salad</button>
    </mat-menu>
  </div>


  <mat-grid-list cols="2" rowHeight="7:1">
    <mat-grid-tile colspan="1" rowspan="4">
      <mat-card>


        <mat-card-header>
          <div [hidden]="edit">
            <mat-card-title><b>{{recipe_title}}</b> &nbsp; by {{recipe_author}}</mat-card-title>
          </div>
          <div [hidden]="!edit">
            <mat-card-title>
              <mat-form-field hideRequiredMarker="false" floatLabel="auto">
                <mat-label><b>Recipe Title</b></mat-label>
                <input matInput (keyup)="inputTitle($event)" placeholder="{{recipe_title}}" [formControl]="title" required>
                <mat-error *ngIf="title.invalid">{{getErrorMessageTitle()}}</mat-error>
              </mat-form-field>
              &nbsp; by &nbsp;
              <mat-form-field hideRequiredMarker="false" floatLabel="auto">
                <mat-label><b>Recipe Author</b></mat-label>
                <input matInput (keyup)="inputAuthor($event)" [formControl]="author" required>
                <mat-error *ngIf="author.invalid">{{getErrorMessageAuthor()}}</mat-error>
              </mat-form-field>
            </mat-card-title>
          </div>
        </mat-card-header>


        <mat-card-content>
          <br>
          <div [hidden]="edit">
            <p>
              <mat-icon>schedule</mat-icon> &nbsp;
              {{recipe_duration}} min
            </p>
            <p>
              <mat-icon>bug_report</mat-icon> &nbsp;
              {{recipe_values}}
            </p>
            <p>
              <mat-icon>leaderboard</mat-icon> &nbsp;
              <b *ngFor="let x of getDifficulty()">
                <img mat-card-image text-align="inline" align="textbottom" src="https://raw.githubusercontent.com/MyCookieBook/CookieBookFE/master/src/pictures/Logo.jpg" alt="{{x+1}}">
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </b>
            </p>
          </div>

          <div [hidden]="!edit">
            <p>
              <mat-icon>schedule</mat-icon> &nbsp;
              <mat-form-field hideRequiredMarker="true" floatLabel="auto">
                <mat-label>Duration</mat-label>
                <input matInput (keyup)="inputDuration($event)" [formControl]="duration">
                <span matSuffix>min</span>
                <mat-error *ngIf="duration.invalid">{{getErrorMessageDuration()}}</mat-error>
              </mat-form-field>
            </p>
            <p>
              <mat-icon>bug_report</mat-icon> &nbsp;
              <mat-form-field hideRequiredMarker="true" floatLabel="auto">
                <mat-label>Nutritional Values</mat-label>
                <input matInput (keyup)="inputValues($event)" [formControl]="values">
                <mat-error *ngIf="values.invalid">{{getErrorMessageValues()}}</mat-error>
              </mat-form-field>
            </p>
            <p>
              <mat-icon>leaderboard</mat-icon> &nbsp;
              <mat-form-field>
                <mat-label>Difficulty Level</mat-label>
                <mat-select>
                  <mat-option value="1" (click)="recipe_difficulty_new = 1">1</mat-option>
                  <mat-option value="2" (click)="recipe_difficulty_new = 2">2</mat-option>
                  <mat-option value="3" (click)="recipe_difficulty_new = 3">3</mat-option>
                  <mat-option value="4" (click)="recipe_difficulty_new = 4">4</mat-option>
                  <mat-option value="5" (click)="recipe_difficulty_new = 5">5</mat-option>
                </mat-select>
              </mat-form-field>
            </p>
          </div>
          <br>
          <div>
            <p>
              <b>Ingredients</b>
            </p>
            <table mat-table>
              <ng-container matColumnDef="quantity">
                <td mat-cell>Quantity</td>
              </ng-container>
              <ng-container matColumnDef="ingredient">
                <td mat-cell>Ingredient</td>
              </ng-container>
              <tr mat-row></tr>
            </table>
          </div>
          <p></p>
          <div>
            <p>
              <b>Material</b>
            </p>
            <table mat-table>
              <ng-container matColumnDef="material">
                <td mat-cell>Material</td>
              </ng-container>
              <tr mat-row></tr>
            </table>
          </div>
          <p></p>
          <div>
            <p>
              <b>Steps</b>
            </p>
            <table mat-table>
              <ng-container matColumnDef="steps">
                <td mat-cell>Step</td>
              </ng-container>
              <tr mat-row></tr>
            </table>
          </div>
        </mat-card-content>
      </mat-card>

    </mat-grid-tile>
    <mat-grid-tile colspan="1" rowspan="4">
      <mat-card>
        <div>
          <img class="image" mat-card-image src="{{picture_src}}" alt="Image">
        </div>
        <div [hidden]="!edit">
          <!--<button mat-button (click)="openDialog()">Open dialog</button>-->
          <button mat-raised-button> <!--(click)="openDialogPicture()"-->
            Change picture &nbsp;
            <mat-icon color="primary">
              add_box
            </mat-icon>
          </button>
        </div>
        <p></p>
        <div>
          <a href="https://dhbw-karlsruhe.myjetbrains.com/youtrack/dashboard">More information</a>
        </div>

      </mat-card>
    </mat-grid-tile>

  <mat-grid-tile colspan="2" rowspan="2">
    <div class="div-margin" [hidden]="edit">
      <button mat-raised-button color="primary">Bake</button>
      &nbsp; &nbsp; &nbsp;
      <!--<button mat-raised-button>Share</button>
      &nbsp; &nbsp; &nbsp;-->
      <button mat-raised-button (click)="edit=true">Edit</button>
      &nbsp; &nbsp; &nbsp;
      <button mat-raised-button>Delete</button>
    </div>
    <div class="div-margin" [hidden]="!edit">
      <button mat-raised-button color="{{color}}" (click)="clickSave()">Save</button>
      &nbsp; &nbsp; &nbsp;
      <button mat-raised-button (click)="clickCancel()">Cancel</button>
    </div>
  </mat-grid-tile>
  </mat-grid-list>

</body>
<footer>
  <app-footer></app-footer>
</footer>

<router-outlet></router-outlet>
